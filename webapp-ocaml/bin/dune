(executable
 (public_name webapp-ocaml)
 (name main)
 (libraries webapp_ocaml lwt dream cohttp-lwt-unix cohttp-async)
 (preprocess (pps lwt_ppx ppx_deriving.show)))

(rule
  (targets view.ml)
  (deps view.eml.html)
  (action (run dream_eml %{deps} --workspace %{workspace_root})))

